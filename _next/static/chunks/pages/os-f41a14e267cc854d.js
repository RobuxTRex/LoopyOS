(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[458],{8978:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/os",function(){return t(2006)}])},2077:function(e,r,t){"use strict";t.d(r,{Z:function(){return f}});var n=t(5893),o=(t(7294),t(2119)),i=t.n(o),a=t(6010),c=t(1664);function s(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function u(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){s(e,r,t[r])}))}return e}function l(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function f(e){var r=e.as,t=e.className,o=l(e,["as","className"]),s=null!==r&&void 0!==r?r:o.href?function(e){var r=e.href,t=l(e,["href"]);return(0,n.jsx)(c.default,{href:r,children:(0,n.jsx)("a",u({},t))})}:"button";return(0,n.jsx)(s,u({className:(0,a.Z)(i().button,t)},o))}},2006:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return Q}});var n=t(5893),o=t(7294),i=t(9008);var a=function e(r,t){!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e),this.name="OSError",this.message="OS Error '".concat(r,"'"),this.code=r,this.data=t},c=t(4051),s=t.n(c),u=t(5911),l=t.n(u),f=t(6513),d=t(7870);function p(e,r,t,n,o,i,a){try{var c=e[i](a),s=c.value}catch(u){return void t(u)}c.done?r(s):Promise.resolve(s).then(n,o)}function m(e){var r=e.setState,t=(0,f._)();return(0,o.useEffect)((function(){var e,n=setTimeout((e=s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.start({opacity:0,transition:{duration:1.5}});case 2:if(localStorage.getItem("users")){e.next=5;break}return e.abrupt("return",r("setup"));case 5:r("start");case 6:case"end":return e.stop()}}),e)})),function(){var r=this,t=arguments;return new Promise((function(n,o){var i=e.apply(r,t);function a(e){p(i,n,o,a,c,"next",e)}function c(e){p(i,n,o,a,c,"throw",e)}a(void 0)}))}),4e3);return function(){return clearTimeout(n)}}),[t,r]),(0,n.jsx)(d.E.div,{className:l().container,animate:t,children:(0,n.jsx)("svg",{viewBox:"0 0 24 24",className:l().svg,children:(0,n.jsx)(d.E.circle,{cx:"12",cy:"12",r:"11",fill:"none",stroke:"currentColor",strokeWidth:2,animate:{scale:[0,1],opacity:[1,1,0]},transition:{repeat:1/0,duration:1.2},initial:{scale:0}})})})}var h=t(1522),v=t.n(h),y=t(2175),_=t(2077),S=t(4231);function x(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function b(e,r,t,n,o,i,a){try{var c=e[i](a),s=c.value}catch(u){return void t(u)}c.done?r(s):Promise.resolve(s).then(n,o)}function j(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function w(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,i=[],a=!0,c=!1;try{for(t=t.call(e);!(a=(n=t.next()).done)&&(i.push(n.value),!r||i.length!==r);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==t.return||t.return()}finally{if(c)throw o}}return i}}(e,r)||O(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||O(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,r){if(e){if("string"===typeof e)return x(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?x(e,r):void 0}}var E=S.Ry({username:S.Z_().min(2,"Too Short!").max(50,"Too Long!").required("Required"),password:S.Z_().min(8,"Too Short!").required("Required")});function N(e){var r=e.setValues,t=e.nextStep;return(0,n.jsx)(y.J9,{initialValues:{username:"",password:""},onSubmit:function(e){r((function(r){return function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){j(e,r,t[r])}))}return e}({},r,e)})),t()},validationSchema:E,children:(0,n.jsxs)(y.l0,{className:v().form,children:[(0,n.jsx)("h1",{className:v().formTitle,children:"Create an account"}),(0,n.jsxs)("label",{children:[(0,n.jsx)("div",{children:"Username"}),(0,n.jsx)(y.gN,{type:"text",name:"username"}),(0,n.jsx)(y.Bc,{name:"username",className:v().error,component:"div"})]}),(0,n.jsxs)("label",{children:[(0,n.jsx)("div",{children:"Password"}),(0,n.jsx)(y.gN,{type:"password",name:"password"}),(0,n.jsx)(y.Bc,{name:"password",className:v().error,component:"div"})]}),(0,n.jsx)("div",{children:(0,n.jsx)(_.Z,{type:"submit",className:v().button,children:"Next"})})]})})}function T(e){var r=e.values,t=e.setState,n=function(){var e,n=JSON.parse(null!==(e=localStorage.getItem("users"))&&void 0!==e?e:"[]"),o={username:r.username,password:r.password};localStorage.setItem("users",JSON.stringify(g(n).concat([o]))),t(null)};return(0,o.useEffect)((function(){return n()}),[n]),null}function P(e){var r,t=e.setState,i=w(o.useState(0),2),a=i[0],c=i[1],u=w(o.useState({}),2),l=u[0],p=u[1],m=(0,f._)(),h=[N,T][a];return o.useEffect((function(){m.start({opacity:1})}),[m]),(0,n.jsx)("div",{className:v().container,children:(0,n.jsx)(d.E.div,{className:v().root,children:(0,n.jsx)(d.E.div,{initial:{opacity:0},animate:m,children:(0,n.jsx)(h,{nextStep:(r=s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.start({opacity:0});case 2:return c((function(e){return e+1})),e.next=5,m.start({opacity:1});case 5:case"end":return e.stop()}}),e)})),function(){var e=this,t=arguments;return new Promise((function(n,o){var i=r.apply(e,t);function a(e){b(i,n,o,a,c,"next",e)}function c(e){b(i,n,o,a,c,"throw",e)}a(void 0)}))}),setValues:p,setState:t,values:l})})})})}var A=t(2590),k=t.n(A);function I(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function R(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,i=[],a=!0,c=!1;try{for(t=t.call(e);!(a=(n=t.next()).done)&&(i.push(n.value),!r||i.length!==r);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==t.return||t.return()}finally{if(c)throw o}}return i}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return I(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return I(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e){var r,t=e.error;return(0,o.useEffect)((function(){var e=setTimeout((function(){window.location.reload()}),3e4);return function(){return clearTimeout(e)}}),[]),(0,n.jsx)("div",{className:k().container,children:(0,n.jsxs)("div",{className:k().root,children:[(0,n.jsx)("h1",{className:k().title,children:"An error occurred"}),(0,n.jsx)("p",{className:k().description,children:"The system will automatically restart in 30 seconds"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:k().errorTitle,children:"Error Information"}),(0,n.jsxs)("ul",{className:k().errorInfo,children:[(0,n.jsx)("li",{children:(0,n.jsxs)("code",{children:["code: ",null!==(r=t.code)&&void 0!==r?r:"RUNTIME_ERROR"]})}),t.data&&t.code?Object.entries(t.data).map((function(e){var r=R(e,2),t=r[0],o=r[1];return(0,n.jsx)("li",{children:(0,n.jsxs)("code",{children:[t,": ",JSON.stringify(o)]})},t)})):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("li",{children:(0,n.jsxs)("code",{children:["name: ",t.name]})}),(0,n.jsx)("li",{children:(0,n.jsxs)("code",{children:["message: ",t.message]})})]})]})]})]})})}var L=t(1269),B=t.n(L),Z=t(8582),M=t(1190);function q(e){var r=e.setState,t=(0,o.useState)(new Date),i=t[0],c=t[1],s=(0,o.useState)(!1),u=s[0],l=s[1],f=(0,o.useMemo)((function(){var e=localStorage.getItem("users");if(!e)throw new a("LOCALSTORAGE_NO_VALUE",{key:"users"});var r=JSON.parse(e);if(!r||!r.length)throw new a("LOCALSTORAGE_INVALID_DATA",{key:"users",data:r});return r[0]}),[]);return(0,o.useEffect)((function(){var e=setTimeout((function(){c(new Date)}),6e4-Date.now()%6e4);return function(){return clearTimeout(e)}}),[i]),(0,n.jsxs)("div",{className:B().container,onClick:function(){l(!0)},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:B().time,children:(0,Z.Z)(i,"HH:mm")}),(0,n.jsx)("div",{className:B().date,children:(0,Z.Z)(i,"dd MMMM yyyy")})]}),(0,n.jsx)(M.M,{children:u&&(0,n.jsx)(d.E.div,{className:B().overlay,initial:"hidden",animate:"visible",exit:"hidden",variants:{hidden:{opacity:0,transition:{when:"afterChildren"}},visible:{opacity:1,transition:{when:"beforeChildren"}}},onClick:function(e){l(!1),e.stopPropagation()},children:(0,n.jsxs)(d.E.div,{variants:{hidden:{opacity:0},visible:{opacity:1}},className:B().login,onClick:function(e){e.stopPropagation()},children:[(0,n.jsx)("div",{className:B().avatar}),(0,n.jsx)("div",{className:B().username,children:f.username}),(0,n.jsx)(y.J9,{initialValues:{password:""},validationSchema:S.Ry({password:S.Z_().required("Required")}),onSubmit:function(e,t){if(e.password!==f.password)return t.setErrors({password:"Incorrect Password"});r("desktop")},children:function(e){var r=e.errors,t=e.touched;return(0,n.jsxs)(y.l0,{children:[(0,n.jsxs)("div",{className:B().loginForm,children:[(0,n.jsx)(y.gN,{placeholder:"Password",type:"password",name:"password"}),(0,n.jsx)("button",{className:B().loginButton,type:"submit",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),(0,n.jsx)("div",{children:t.password&&r.password&&(0,n.jsx)("div",{className:B().error,children:r.password})})]})}})]})},"overlay")})]})}function D(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function J(e){return J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},J(e)}function V(e,r){return!r||"object"!==z(r)&&"function"!==typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):r}function U(e,r){return U=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e},U(e,r)}var z=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function F(e){var r=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=J(e);if(r){var o=J(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return V(this,t)}}var H=function(e){!function(e,r){if("function"!==typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&U(e,r)}(a,e);var r,t,o,i=F(a);function a(e){var r;return function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,e)).state={error:null},r}return r=a,o=[{key:"getDerivedStateFromError",value:function(e){return{error:e}}}],(t=[{key:"render",value:function(){return this.state.error?(0,n.jsx)(C,{error:this.state.error}):this.props.children}}])&&D(r.prototype,t),o&&D(r,o),a}(o.Component);function X(){var e=(0,o.useState)(null),r=e[0],t=e[1],c=function(){if(null===r)return m;if("setup"===r)return P;if("start"===r)return q;throw new a("UNEXPECTED_OS_STATE",{state:r})}();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.default,{children:(0,n.jsx)("title",{children:"LoopyOS"})}),(0,n.jsx)(M.M,{exitBeforeEnter:!0,children:(0,n.jsx)(d.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,n.jsx)(c,{setState:t})},r)})]})}function Q(){return(0,n.jsx)(H,{children:(0,n.jsx)(X,{})})}},2119:function(e){e.exports={button:"Button_button__r_ga_"}},2590:function(e){e.exports={container:"ErrorScreen_container__QLVcH",root:"ErrorScreen_root__IR0Ed",title:"ErrorScreen_title__6OsRg",description:"ErrorScreen_description___imgr",errorTitle:"ErrorScreen_errorTitle__Ozphr",errorInfo:"ErrorScreen_errorInfo__tB739"}},5911:function(e){e.exports={container:"LoadingScreen_container__fUWsx",svg:"LoadingScreen_svg__Tj0aL",title:"LoadingScreen_title__FOEzW"}},1522:function(e){e.exports={container:"SetupScreen_container__APkq5",root:"SetupScreen_root__wLkEn",form:"SetupScreen_form__660JK",button:"SetupScreen_button__LZg4s",introduction:"SetupScreen_introduction__LzTHH",complete:"SetupScreen_complete__sJ4ct",introductionTitle:"SetupScreen_introductionTitle__eVym0",introductionText:"SetupScreen_introductionText__OQ0Zx",completeTitle:"SetupScreen_completeTitle__DBnfd",completeText:"SetupScreen_completeText___E027",formTitle:"SetupScreen_formTitle__fH3t1",error:"SetupScreen_error__7khaq"}},1269:function(e){e.exports={container:"StartScreen_container__EXS1n",time:"StartScreen_time__ciI1c",date:"StartScreen_date__TVxZE",overlay:"StartScreen_overlay__a8vQw",login:"StartScreen_login__Jzlx6",avatar:"StartScreen_avatar__uTc7i",username:"StartScreen_username__9fU7i",loginForm:"StartScreen_loginForm__TIgZ_",loginButton:"StartScreen_loginButton__fvqqz",error:"StartScreen_error__oSzPP"}}},function(e){e.O(0,[597,774,888,179],(function(){return r=8978,e(e.s=r);var r}));var r=e.O();_N_E=r}]);