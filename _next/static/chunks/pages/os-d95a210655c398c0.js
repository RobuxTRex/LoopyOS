(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[458],{8978:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/os",function(){return r(6806)}])},2077:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var n=r(5893),o=(r(7294),r(2119)),a=r.n(o),i=r(6010),s=r(1664);function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){c(e,t,r[t])}))}return e}function l(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function f(e){var t=e.as,r=e.className,o=l(e,["as","className"]),c=null!==t&&void 0!==t?t:o.href?function(e){var t=e.href,r=l(e,["href"]);return(0,n.jsx)(s.default,{href:t,children:(0,n.jsx)("a",u({},r))})}:"button";return(0,n.jsx)(c,u({className:(0,i.Z)(a().button,r)},o))}},6806:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return $}});var n=r(5893),o=r(7294),a=r(9008);var i=function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name="OSError",this.message="OS Error '".concat(t,"'"),this.code=t,this.data=r},s=r(4051),c=r.n(s),u=r(5911),l=r.n(u),f=r(6513),d=r(7870);function p(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(u){return void r(u)}s.done?t(c):Promise.resolve(c).then(n,o)}function m(e){var t=e.setState,r=(0,f._)();return(0,o.useEffect)((function(){var e,n=setTimeout((e=c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.start({opacity:0,transition:{duration:1.5}});case 2:if(localStorage.getItem("users")){e.next=5;break}return e.abrupt("return",t("setup"));case 5:t("start");case 6:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){p(a,n,o,i,s,"next",e)}function s(e){p(a,n,o,i,s,"throw",e)}i(void 0)}))}),4e3);return function(){return clearTimeout(n)}}),[r,t]),(0,n.jsx)(d.E.div,{className:l().container,animate:r,children:(0,n.jsx)("svg",{viewBox:"0 0 24 24",className:l().svg,children:(0,n.jsx)(d.E.circle,{cx:"12",cy:"12",r:"11",fill:"none",stroke:"currentColor",strokeWidth:2,animate:{scale:[0,1],opacity:[1,1,0]},transition:{repeat:1/0,duration:1.2},initial:{scale:0}})})})}var _=r(1522),h=r.n(_),v=r(2175),y=r(2077),S=r(4231);function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function j(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(u){return void r(u)}s.done?t(c):Promise.resolve(c).then(n,o)}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(c){s=!0,o=c}finally{try{i||null==r.return||r.return()}finally{if(s)throw o}}return a}}(e,t)||O(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||O(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){if(e){if("string"===typeof e)return x(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?x(e,t):void 0}}var E=S.Ry({username:S.Z_().min(2,"Too Short!").max(50,"Too Long!").required("Required"),password:S.Z_().min(8,"Too Short!").required("Required")});function N(e){var t=e.setValues,r=e.nextStep;return(0,n.jsx)(v.J9,{initialValues:{username:"",password:""},onSubmit:function(e){t((function(t){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){b(e,t,r[t])}))}return e}({},t,e)})),r()},validationSchema:E,children:(0,n.jsxs)(v.l0,{className:h().form,children:[(0,n.jsx)("h1",{className:h().formTitle,children:"Create an account"}),(0,n.jsxs)("label",{children:[(0,n.jsx)("div",{children:"Username"}),(0,n.jsx)(v.gN,{type:"text",name:"username"}),(0,n.jsx)(v.Bc,{name:"username",className:h().error,component:"div"})]}),(0,n.jsxs)("label",{children:[(0,n.jsx)("div",{children:"Password"}),(0,n.jsx)(v.gN,{type:"password",name:"password"}),(0,n.jsx)(v.Bc,{name:"password",className:h().error,component:"div"})]}),(0,n.jsx)("div",{children:(0,n.jsx)(y.Z,{type:"submit",className:h().button,children:"Next"})})]})})}function T(e){var t=e.values,r=e.setState,n=(0,o.useCallback)((function(){var e,n=JSON.parse(null!==(e=localStorage.getItem("users"))&&void 0!==e?e:"[]"),o={username:t.username,password:t.password};localStorage.setItem("users",JSON.stringify(g(n).concat([o]))),r(null)}),[]);return(0,o.useEffect)((function(){return n()}),[n]),null}function k(e){var t,r=e.setState,a=w(o.useState(0),2),i=a[0],s=a[1],u=w(o.useState({}),2),l=u[0],p=u[1],m=(0,f._)(),_=[N,T][i];return o.useEffect((function(){m.start({opacity:1})}),[m]),(0,n.jsx)("div",{className:h().container,children:(0,n.jsx)(d.E.div,{className:h().root,children:(0,n.jsx)(d.E.div,{initial:{opacity:0},animate:m,children:(0,n.jsx)(_,{nextStep:(t=c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.start({opacity:0});case 2:return s((function(e){return e+1})),e.next=5,m.start({opacity:1});case 5:case"end":return e.stop()}}),e)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(e){j(a,n,o,i,s,"next",e)}function s(e){j(a,n,o,i,s,"throw",e)}i(void 0)}))}),setValues:p,setState:r,values:l})})})})}var A=r(2590),P=r.n(A);function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(c){s=!0,o=c}finally{try{i||null==r.return||r.return()}finally{if(s)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return B(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e){var t,r=e.error;return(0,o.useEffect)((function(){var e=setTimeout((function(){window.location.reload()}),3e4);return function(){return clearTimeout(e)}}),[]),(0,n.jsx)("div",{className:P().container,children:(0,n.jsxs)("div",{className:P().root,children:[(0,n.jsx)("h1",{className:P().title,children:"An error occurred"}),(0,n.jsx)("p",{className:P().description,children:"The system will automatically restart in 30 seconds"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:P().errorTitle,children:"Error Information"}),(0,n.jsxs)("ul",{className:P().errorInfo,children:[(0,n.jsx)("li",{children:(0,n.jsxs)("code",{children:["code: ",null!==(t=r.code)&&void 0!==t?t:"RUNTIME_ERROR"]})}),r.data&&r.code?Object.entries(r.data).map((function(e){var t=I(e,2),r=t[0],o=t[1];return(0,n.jsx)("li",{children:(0,n.jsxs)("code",{children:[r,": ",JSON.stringify(o)]})},r)})):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("li",{children:(0,n.jsxs)("code",{children:["name: ",r.name]})}),(0,n.jsx)("li",{children:(0,n.jsxs)("code",{children:["message: ",r.message]})})]})]})]})]})})}var D=r(1269),R=r.n(D),C=r(8582),M=r(1190);function Z(e){var t=e.setState,r=(0,o.useState)(new Date),a=r[0],s=r[1],c=(0,o.useState)(!1),u=c[0],l=c[1],f=(0,o.useMemo)((function(){var e=localStorage.getItem("users");if(!e)throw new i("LOCALSTORAGE_NO_VALUE",{key:"users"});var t=JSON.parse(e);if(!t||!t.length)throw new i("LOCALSTORAGE_INVALID_DATA",{key:"users",data:t});return t[0]}),[]);return(0,o.useEffect)((function(){var e=setTimeout((function(){s(new Date)}),6e4-Date.now()%6e4);return function(){return clearTimeout(e)}}),[a]),(0,n.jsxs)("div",{className:R().container,onClick:function(){l(!0)},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:R().time,children:(0,C.Z)(a,"HH:mm")}),(0,n.jsx)("div",{className:R().date,children:(0,C.Z)(a,"dd MMMM yyyy")})]}),(0,n.jsx)(M.M,{children:u&&(0,n.jsx)(d.E.div,{className:R().overlay,initial:"hidden",animate:"visible",exit:"hidden",variants:{hidden:{opacity:0,transition:{when:"afterChildren"}},visible:{opacity:1,transition:{when:"beforeChildren"}}},onClick:function(e){l(!1),e.stopPropagation()},children:(0,n.jsxs)(d.E.div,{variants:{hidden:{opacity:0},visible:{opacity:1}},className:R().login,onClick:function(e){e.stopPropagation()},children:[(0,n.jsx)("div",{className:R().avatar}),(0,n.jsx)("div",{className:R().username,children:f.username}),(0,n.jsx)(v.J9,{initialValues:{password:""},validationSchema:S.Ry({password:S.Z_().required("Required")}),onSubmit:function(e,r){if(e.password!==f.password)return r.setErrors({password:"Incorrect Password"});t("desktop")},children:function(e){var t=e.errors,r=e.touched;return(0,n.jsxs)(v.l0,{children:[(0,n.jsxs)("div",{className:R().loginForm,children:[(0,n.jsx)(v.gN,{placeholder:"Password",type:"password",name:"password"}),(0,n.jsx)("button",{className:R().loginButton,type:"submit",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),(0,n.jsx)("div",{children:r.password&&t.password&&(0,n.jsx)("div",{className:R().error,children:t.password})})]})}})]})},"overlay")})]})}var F=r(2429),q=r.n(F);function V(){var e=(0,o.useRef)(null),t=(0,o.useState)(new Date),r=t[0],a=t[1],i=(0,o.useState)(!1);i[0],i[1],(0,o.useMemo)((function(){var e=localStorage.getItem("users");if(!e)throw new OSError("LOCALSTORAGE_NO_VALUE",{key:"users"});var t=JSON.parse(e);if(!t||!t.length)throw new OSError("LOCALSTORAGE_INVALID_DATA",{key:"users",data:t});return t[0]}),[]);return(0,o.useEffect)((function(){var e=setTimeout((function(){a(new Date)}),6e4-Date.now()%6e4);return function(){return clearTimeout(e)}})),(0,n.jsxs)(d.E.div,{ref:e,className:q().container,children:[(0,n.jsx)(d.E.div,{drag:!0,dragMomentum:!1,dragConstraints:e,className:q().window,children:"Don't drag me plz"}),(0,n.jsx)("div",{className:q().taskBar,children:(0,n.jsx)("button",{className:q().taskBarButton,children:(0,n.jsx)("img",{src:"/logo.svg",className:q().logo,alt:"start button",width:40,height:40})})}),(0,n.jsxs)("div",{className:q().startMenu,children:[(0,n.jsxs)("div",{className:q().startFlex,children:[(0,n.jsx)("div",{className:q().time,children:(0,C.Z)(r,"HH:mm")}),(0,n.jsx)("div",{className:q().date,children:(0,C.Z)(r,"dd MMMM yyyy")}),(0,n.jsx)("button",{className:q().startFlexButton})]}),(0,n.jsx)("button",{children:"tes"})]})]})}function J(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function U(e){return U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},U(e)}function H(e,t){return!t||"object"!==G(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function z(e,t){return z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},z(e,t)}var G=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function X(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=U(e);if(t){var o=U(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return H(this,r)}}var Q=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(i,e);var t,r,o,a=X(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={error:null},t}return t=i,o=[{key:"getDerivedStateFromError",value:function(e){return{error:e}}}],(r=[{key:"render",value:function(){return this.state.error?(0,n.jsx)(L,{error:this.state.error}):this.props.children}}])&&J(t.prototype,r),o&&J(t,o),i}(o.Component);function W(){var e=(0,o.useState)(null),t=e[0],r=e[1],s=function(){if(null===t)return m;if("setup"===t)return k;if("start"===t)return Z;if("desktop"===t)return V;throw new i("UNEXPECTED_OS_STATE",{state:t})}();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.default,{children:(0,n.jsx)("title",{children:"LoopyOS"})}),(0,n.jsx)(M.M,{exitBeforeEnter:!0,children:(0,n.jsx)(d.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,n.jsx)(s,{setState:r})},t)})]})}function $(){return(0,n.jsx)(Q,{children:(0,n.jsx)(W,{})})}},2119:function(e){e.exports={button:"Button_button__r_ga_"}},2429:function(e){e.exports={container:"DesktopScreen_container__7tGkv",window:"DesktopScreen_window__LCw7T",taskBar:"DesktopScreen_taskBar__Tqhjm",time:"DesktopScreen_time__G_vcg",date:"DesktopScreen_date__VFBZn",startMenu:"DesktopScreen_startMenu__WpBdU",startFlex:"DesktopScreen_startFlex__4rROd",startFlexButton:"DesktopScreen_startFlexButton__CyisL",logo:"DesktopScreen_logo__QTh61",taskBarButton:"DesktopScreen_taskBarButton__kPYLa"}},2590:function(e){e.exports={container:"ErrorScreen_container__QLVcH",root:"ErrorScreen_root__IR0Ed",title:"ErrorScreen_title__6OsRg",description:"ErrorScreen_description___imgr",errorTitle:"ErrorScreen_errorTitle__Ozphr",errorInfo:"ErrorScreen_errorInfo__tB739"}},5911:function(e){e.exports={container:"LoadingScreen_container__fUWsx",svg:"LoadingScreen_svg__Tj0aL",title:"LoadingScreen_title__FOEzW"}},1522:function(e){e.exports={container:"SetupScreen_container__APkq5",root:"SetupScreen_root__wLkEn",form:"SetupScreen_form__660JK",button:"SetupScreen_button__LZg4s",introduction:"SetupScreen_introduction__LzTHH",complete:"SetupScreen_complete__sJ4ct",introductionTitle:"SetupScreen_introductionTitle__eVym0",introductionText:"SetupScreen_introductionText__OQ0Zx",completeTitle:"SetupScreen_completeTitle__DBnfd",completeText:"SetupScreen_completeText___E027",formTitle:"SetupScreen_formTitle__fH3t1",error:"SetupScreen_error__7khaq"}},1269:function(e){e.exports={container:"StartScreen_container__EXS1n",time:"StartScreen_time__ciI1c",date:"StartScreen_date__TVxZE",text:"StartScreen_text__uqLJX",overlay:"StartScreen_overlay__a8vQw",login:"StartScreen_login__Jzlx6",avatar:"StartScreen_avatar__uTc7i",username:"StartScreen_username__9fU7i",loginForm:"StartScreen_loginForm__TIgZ_",loginButton:"StartScreen_loginButton__fvqqz",error:"StartScreen_error__oSzPP"}}},function(e){e.O(0,[597,774,888,179],(function(){return t=8978,e(e.s=t);var t}));var t=e.O();_N_E=t}]);